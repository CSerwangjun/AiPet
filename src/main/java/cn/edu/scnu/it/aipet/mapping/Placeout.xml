<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.scnu.it.aipet.dao.MePlaceoutMappler">
    <resultMap id="getPet" type="cn.edu.scnu.it.aipet.pojo.Placeout">
        <id column="idplaceout" property="idplaceout"/>
        <association property="pet" column="idpet" select="cn.edu.scnu.it.aipet.dao.PetMapper.getPet"/>
    </resultMap>
<select id="getMePlaceoutByUserId" parameterType="Long" resultMap="getPet">
    select placeouttitle,datatime,adoptres,realname,sex,address from placeout where iduser=#{iduser}
</select>
<insert id="insertPlaceout" parameterType="cn.edu.scnu.it.aipet.pojo.Placeout">
   insert into pet(idpet,petspecies,name,sex,age_year,weight,petdescri,petphotourl,age_month)
   values(0,#{petspecies},#{name},#{sex},#{age_year},#{weight},#{petdescri},#{petphotourl},#{age_month})
</insert>
</mapper>